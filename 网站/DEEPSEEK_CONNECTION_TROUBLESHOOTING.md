# DeepSeek API è¿æ¥é—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸ” é—®é¢˜è¯Šæ–­ç»“æœ

ç»è¿‡æµ‹è¯•ï¼Œæ‚¨çš„DeepSeek APIé…ç½®æ˜¯**å®Œå…¨æ­£å¸¸**çš„ï¼š

âœ… **ç½‘ç»œè¿æ¥æ­£å¸¸** - å¯ä»¥è®¿é—® `https://api.deepseek.com`  
âœ… **APIå¯†é’¥æœ‰æ•ˆ** - `sk-5786e431682e4229a2e63994d4968f15`  
âœ… **æ¨¡å‹å¯ç”¨** - `deepseek-chat` å’Œ `deepseek-reasoner`  
âœ… **å¯¹è¯åŠŸèƒ½æ­£å¸¸** - å¯ä»¥æˆåŠŸå‘é€å’Œæ¥æ”¶æ¶ˆæ¯  

## ğŸš¨ å¯èƒ½çš„é—®é¢˜åŸå› 

### 1. **æµè§ˆå™¨è·¨åŸŸé—®é¢˜ (CORS)**
è¿™æ˜¯æœ€å¸¸è§çš„é—®é¢˜ã€‚æµè§ˆå™¨å¯èƒ½é˜»æ­¢äº†è·¨åŸŸè¯·æ±‚ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨è¿è¡Œæ‚¨çš„ç½‘é¡µ
- æˆ–è€…é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®API

### 2. **æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯**
æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ã€‚

**æ£€æŸ¥æ–¹æ³•ï¼š**
1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° `Console` æ ‡ç­¾
3. æŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

### 3. **ç½‘ç»œç¯å¢ƒé™åˆ¶**
æŸäº›ç½‘ç»œç¯å¢ƒå¯èƒ½é˜»æ­¢äº†å¯¹DeepSeek APIçš„è®¿é—®ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**
- å°è¯•ä½¿ç”¨ä¸åŒçš„ç½‘ç»œï¼ˆå¦‚æ‰‹æœºçƒ­ç‚¹ï¼‰
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- å°è¯•ä½¿ç”¨VPN

### 4. **APIè°ƒç”¨é¢‘ç‡é™åˆ¶**
å¦‚æœçŸ­æ—¶é—´å†…å‘é€å¤ªå¤šè¯·æ±‚ï¼Œå¯èƒ½è§¦å‘äº†é¢‘ç‡é™åˆ¶ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**
- ç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•
- å‡å°‘è¯·æ±‚é¢‘ç‡

## ğŸ› ï¸ è§£å†³æ­¥éª¤

### æ­¥éª¤1: ä½¿ç”¨è¯Šæ–­å·¥å…·
æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†ä¸€ä¸ªè¯Šæ–­å·¥å…· `deepseek-diagnostic.html`ï¼Œè¯·ï¼š

1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶
2. æŒ‰ç…§æç¤ºè¿›è¡Œå„é¡¹æµ‹è¯•
3. æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

### æ­¥éª¤2: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
1. æ‰“å¼€æ‚¨çš„Auroraå¯¹è¯é¡µé¢
2. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° `Console` æ ‡ç­¾
4. å°è¯•å‘é€ä¸€æ¡æ¶ˆæ¯
5. æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### æ­¥éª¤3: ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨
å¦‚æœé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œè¯·ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼š

```bash
# åœ¨ç½‘ç«™ç›®å½•ä¸‹è¿è¡Œ
python3 -m http.server 8000
```

ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:8000`

### æ­¥éª¤4: æ£€æŸ¥APIå¯†é’¥é…ç½®
ç¡®ä¿æ‚¨çš„APIå¯†é’¥åœ¨ä»£ç ä¸­æ­£ç¡®é…ç½®ï¼š

```javascript
// åœ¨ deepseek-api.js ä¸­
this.apiKey = 'sk-5786e431682e4229a2e63994d4968f15';
```

## ğŸ”§ å¿«é€Ÿä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: æ·»åŠ é”™è¯¯å¤„ç†
åœ¨æ‚¨çš„ä»£ç ä¸­æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯å¤„ç†ï¼š

```javascript
async sendMessage(userMessage, sessionId = null) {
    try {
        console.log('å‘é€æ¶ˆæ¯:', userMessage);
        console.log('APIå¯†é’¥:', this.apiKey.substring(0, 10) + '...');
        console.log('API URL:', this.apiUrl);
        
        // æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒAPIå¯†é’¥
        if (!this.isOnline()) {
            console.log('âŒ ç½‘ç»œç¦»çº¿');
            return this.getLocalIntelligentResponse(userMessage);
        }
        
        if (!this.isApiKeyValid()) {
            console.log('âŒ APIå¯†é’¥æ— æ•ˆ');
            return this.getLocalIntelligentResponse(userMessage);
        }
        
        // ç»§ç»­APIè°ƒç”¨...
        
    } catch (error) {
        console.error('è¯¦ç»†é”™è¯¯ä¿¡æ¯:', error);
        console.error('é”™è¯¯ç±»å‹:', error.name);
        console.error('é”™è¯¯æ¶ˆæ¯:', error.message);
        return this.getLocalIntelligentResponse(userMessage);
    }
}
```

### æ–¹æ¡ˆ2: ä½¿ç”¨ä»£ç†æœåŠ¡å™¨
å¦‚æœè·¨åŸŸé—®é¢˜æ— æ³•è§£å†³ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„ä»£ç†æœåŠ¡å™¨ï¼š

```python
# proxy_server.py
from flask import Flask, request, jsonify
import requests
from flask_cors import CORS

app = Flask(__name__)
CORS(app)

@app.route('/api/deepseek', methods=['POST'])
def proxy_deepseek():
    try:
        # è·å–è¯·æ±‚æ•°æ®
        data = request.json
        
        # è½¬å‘åˆ°DeepSeek API
        response = requests.post(
            'https://api.deepseek.com/v1/chat/completions',
            headers={
                'Authorization': 'Bearer sk-5786e431682e4229a2e63994d4968f15',
                'Content-Type': 'application/json'
            },
            json=data,
            timeout=30
        )
        
        return jsonify(response.json()), response.status_code
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
```

## ğŸ“ è¿›ä¸€æ­¥å¸®åŠ©

å¦‚æœä»¥ä¸Šæ–¹æ¡ˆéƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·ï¼š

1. ä½¿ç”¨è¯Šæ–­å·¥å…·è·å–è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
2. æˆªå›¾æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
3. å‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯æ¶ˆæ¯

è¿™æ ·æˆ‘å¯ä»¥æä¾›æ›´ç²¾å‡†çš„è§£å†³æ–¹æ¡ˆã€‚

## ğŸ¯ æ€»ç»“

æ‚¨çš„DeepSeek APIé…ç½®æ˜¯æ­£ç¡®çš„ï¼Œé—®é¢˜å¾ˆå¯èƒ½å‡ºç°åœ¨ï¼š
- æµè§ˆå™¨è·¨åŸŸé™åˆ¶
- ç½‘ç»œç¯å¢ƒé™åˆ¶
- å‰ç«¯ä»£ç ä¸­çš„é”™è¯¯å¤„ç†

è¯·å…ˆä½¿ç”¨è¯Šæ–­å·¥å…·è¿›è¡Œæµ‹è¯•ï¼Œç„¶åæ ¹æ®ç»“æœé‡‡å–ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚
